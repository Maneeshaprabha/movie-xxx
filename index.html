<!doctype html>
<html lang="en" data-critters-container>

<head>
  <meta charset="utf-8">
  <title>LogBooks</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link id="favicon" rel="icon" href="./favicon.ico">
  <script src="https://accounts.google.com/gsi/client" async defer></script>
<style>:root{--primary-color:#4a90e2;--secondary-color:#6c757d;--accent-color:#17a2b8;--text-color:#212529;--background-color:#f8f9fa;--background-secondary-color:#ffffff;--icon-color:#495057;--hover-color:#e2e6ea;--font-size:16px;--font-weight:400;--white:#FFFFFF;--dark-gray:#333333;--medium-gray:#666666;--light-gray:#CCCCCC;--button-text:#FFFFFF;--input-border:#CCCCCC;--input-text:#000000;--link-color:#4a90e2;--error-gray:#e37d7d;--border-color:#ccc}*{font-family:Roboto,sans-serif;box-sizing:border-box;transition:all ease .3s;-webkit-user-select:none;user-select:none}body{font-family:Roboto,sans-serif;height:100%;background-color:var(--background-color);margin:0;padding:0;overflow:hidden}</style><link rel="stylesheet" href="styles-W57PT5LM.css" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles-W57PT5LM.css"></noscript></head>

<body>
  <app-root></app-root>
  <script>
    function changeFavicon(src) {
      const favicon = document.getElementById('favicon');
      if (favicon) {
        favicon.href = src;
      } else {
        const newFavicon = document.createElement('link');
        newFavicon.id = 'favicon';
        newFavicon.rel = 'icon';
        newFavicon.type = 'image/png'; // Set the image type to png or jpg
        newFavicon.href = src;
        document.head.appendChild(newFavicon);
      }
    }

    const theme = JSON.parse(localStorage.getItem('theme'));

    // Set the favicon if available
    if (theme && theme.favicon) {
      changeFavicon(theme.favicon);  // favicon can be .png, .jpg, etc.
    }

    // Function to capitalize the first letter of a string
    function capitalizeFirstLetter(string) {
      return string.charAt(0).toUpperCase() + string.slice(1);
    }

    // Function to update the title
    function updateTitle() {
      const businessName = theme ? theme.business_name : 'LogBooks';
      const currentRoute = window.location.href.split('/').pop() || 'home'; // Get the last part of the path or default to 'home'
      const formattedRoute = capitalizeFirstLetter(currentRoute.replace(/_/g, ' '));
      document.title = ` ${formattedRoute} - ${businessName}`;
    }

    // Initial title set
    updateTitle();

    // Listen for popstate event for history navigation
    window.addEventListener('popstate', updateTitle);

    // Listen for hash changes (if applicable)
    window.addEventListener('hashchange', updateTitle);

    // Override history methods to update title on state change
    const originalPushState = history.pushState;
    history.pushState = function (...args) {
      originalPushState.apply(this, args);
      updateTitle();
    };

    const originalReplaceState = history.replaceState;
    history.replaceState = function (...args) {
      originalReplaceState.apply(this, args);
      updateTitle();
    };

  </script>
<link rel="modulepreload" href="chunk-M2KFV74V.js"><link rel="modulepreload" href="chunk-YWK6GFPS.js"><link rel="modulepreload" href="chunk-FK42CRUA.js"><script src="polyfills-FFHMD2TL.js" type="module"></script><script src="main-RIDDQAQL.js" type="module"></script></body>

</html>